<!doctype html>
<html lang="en" class="fullscreen-bg">

<head>
	<title>Login</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<!-- VENDOR CSS -->
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/vendor/font-awesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="assets/vendor/linearicons/style.css">
	<!-- MAIN CSS -->
	<link rel="stylesheet" href="assets/css/main.css">
	<!-- FOR DEMO PURPOSES ONLY. You should remove this in your project -->
	<link rel="stylesheet" href="assets/css/demo.css">
	<!-- GOOGLE FONTS -->
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">
	<!-- ICONS -->
	<link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
	<link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon.png">
</head>

<body>
	<!-- WRAPPER -->
	<div id="wrapper">
		<div class="vertical-align-wrap">
			<div class="vertical-align-middle">
				<div class="auth-box ">
					<div class="left">
						<div class="content">
							<div class="header">
								<div class="logo text-center"><img src="assets/img/logo-dark.png" alt="Klorofil Logo"></div>
								<p class="lead">登录账户</p>
							</div>
								<div class="form-group input-group">
									<label for="signin-email" class="control-label sr-only">用户名</label>
									<span class="input-group-addon"><i class="fa fa-user"></i></span>
									<input type="text" maxlength="16" id="username" class="form-control" id="signin-email" placeholder="Username">
								</div>
								<div class="form-group input-group">
									<label for="signin-password" class="control-label sr-only">密码</label>
									<span class="input-group-addon"><i class="fa fa-lock"></i></span>
									<input type="password" maxlength="16" id="password" class="form-control" id="signin-password" placeholder="Password">
								</div>	
								<div class="form-group">
									<span style="display:none" id="success" class="text-success element-left"><label class="label label-success">SUCCESS</label>&nbsp;&nbsp;&nbsp;登录成功</span>
									<span style="display:none" id="UsernameEmpty" class="text-warning element-left"><label class="label label-warning">WARNING</label>&nbsp;&nbsp;&nbsp;用户名不能为空</span>
									<span style="display:none" id="PasswordEmpty" class="text-warning element-left"><label class="label label-warning">WARNING</label>&nbsp;&nbsp;&nbsp;密码不能为空</span>
									<span style="display:none" id="PasswordErro" class="text-danger element-left"><label class="label label-danger">FAILED</label>&nbsp;&nbsp;&nbsp;密码错误</span>
									<span style="display:none" id="NoExist" class="text-danger element-left"><label class="label label-danger">FAILED</label>&nbsp;&nbsp;&nbsp;该用户不存在</span>
									<span style="display:none" id="failed" class="text-danger element-left"><label class="label label-danger">FAILED</label>&nbsp;&nbsp;&nbsp;登录失败</span>
								</div>
								<br>
								<button type="submit" class="btn btn-primary btn-lg btn-block" onclick="login()">登录</button>
								<br>
								<div class="text-primary" id="ShowDiv"></div>
							
						</div>
					</div>
					<div class="right">
						<div class="overlay"></div>
						<div class="content text">
							<h1 class="heading">健身房管理系统</h1>
							<p>by SkYoung</p>
						</div>
					</div>
					<div class="clearfix"></div>
				</div>
			</div>
		</div>
	</div>
	<!-- END WRAPPER -->
	<!--JAVASCRIPT-->
	<script src="assets/vendor/jquery/jquery.min.js"></script>
	<script src="assets/vendor/bootstrap/js/bootstrap.min.js"></script>
	<script src="assets/vendor/jquery-slimscroll/jquery.slimscroll.min.js"></script>
	<script src="assets/vendor/jquery.easy-pie-chart/jquery.easypiechart.min.js"></script>
	<script src="assets/vendor/chartist/js/chartist.min.js"></script>
	<script src="assets/scripts/klorofil-common.js"></script>
	<script>
	function login(){
		$.ajax({
		type:"post",
		url:"action/handle_login.jsp",
		data:{
		username:$("#username").val(),
		password:$("#password").val()
		},
		success:function(result){		
			var ui =document.getElementById("failed");
			ui.style.display="none";
			var ui =document.getElementById("success");
			ui.style.display="none";
			var ui =document.getElementById("UsernameEmpty");
			ui.style.display="none";
			var ui =document.getElementById("PasswordEmpty");
			ui.style.display="none";
			var ui =document.getElementById("PasswordErro");
			ui.style.display="none";
			var ui =document.getElementById("NoExist");
			ui.style.display="none";
			if(result  == 0){
				var ui =document.getElementById("failed");
				ui.style.display="";
			}
			else if(result == "1"){
				var ui =document.getElementById("success");
				ui.style.display="";
				Load("home.html");
			}
			else if(result == 2){
				var ui =document.getElementById("UsernameEmpty");
				ui.style.display="";
			}
			else if(result == 3){
				var ui =document.getElementById("PasswordEmpty");
				ui.style.display="";
			}
			else if(result == 4){
				var ui =document.getElementById("PasswordErro");
				ui.style.display="";
			}
			else if(result == 5){
				var ui =document.getElementById("NoExist");
				ui.style.display="";
			}
		}
		})		
	}
	</script>
	
<script>
	var secs = 3; //倒计时的秒数
	var URL ;
	function Load(url){
	URL = url;
	for(var i=secs;i>=0;i--)
	{
	   window.setTimeout('doUpdate(' + i + ')', (secs-i) * 1000);
	}
	}
	function doUpdate(num)
	{
	document.getElementById('ShowDiv').innerHTML = '将在'+num+'秒后自动跳转到主页' ;
	if(num == 0) { window.location = URL; }
	}
</script>
</body>

</html>
